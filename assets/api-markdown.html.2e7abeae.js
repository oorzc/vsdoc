import{_ as o}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as r,c as p,a as s,b as n,d as e,e as t,r as i}from"./app.ed9f300c.js";const c={},d=t(`<h1 id="markdown插件" tabindex="-1"><a class="header-anchor" href="#markdown插件" aria-hidden="true">#</a> Markdown插件</h1><p>Markdown插件可以帮你扩展和加强VS Code内置的Markdown预览，包括改变预览的样式、添加新的Markdown语法。</p><h2 id="用css改变mark预览样式" tabindex="-1"><a class="header-anchor" href="#用css改变mark预览样式" aria-hidden="true">#</a> 用CSS改变Mark预览样式</h2><hr><p>配置CSS可以改变mark预览的布局和样式，在你的插件<code>pacakge.json</code>中注册<code>markdown.previewStyles</code>即可：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;markdown.previewStyles&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;./style.css&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>markdown.previewStyles</code>类型是插件根目录下的文件列表。</p><p>配置的样式会在用户的<code>&quot;markdown.styles&quot;</code>之前，内置Markdown预览样式之后加载。</p>`,8),l={href:"https://marketplace.visualstudio.com/items?itemName=bierner.markdown-preview-github-styles",target:"_blank",rel:"noopener noreferrer"},u={href:"https://github.com/mjbvz/vscode-github-markdown-preview-style",target:"_blank",rel:"noopener noreferrer"},k=s("h2",{id:"使用markdown-it插件添加新语法",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#使用markdown-it插件添加新语法","aria-hidden":"true"},"#"),n(" 使用markdown-it插件添加新语法")],-1),m=s("hr",null,null,-1),v={href:"https://spec.commonmark.org/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://github.com/markdown-it/markdown-it#syntax-extensions",target:"_blank",rel:"noopener noreferrer"},w=t(`<p>首先，在你的插件<code>package.json</code>中配置<code>&quot;markdown.markdownItPlugins&quot;</code>：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;markdown.markdownItPlugins&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后在插件的主<code>activation</code>函数中，返回一个包含名<code>extendMarkdownIt</code>函数的对象。这个函数接收一个markdown-it实例，然后必须返回出新的markdown-it实例：</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> vscode <span class="token keyword">from</span> <span class="token string">&#39;vscode&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">activate</span><span class="token punctuation">(</span>context<span class="token operator">:</span> vscode<span class="token punctuation">.</span>ExtensionContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function">extendMarkdownIt</span><span class="token punctuation">(</span>md<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> md<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;markdown-it-emoji&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>若想配置多个markdown-it插件，只需多次链式调用<code>use</code>声明即可。</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">return</span> md<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;markdown-it-emoji&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#39;markdown-it-hashtag&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Markdown预览第一次显示时，配置了markdown-it的插件会变成懒加载激活。</p>`,7),b={href:"https://marketplace.visualstudio.com/items?itemName=bierner.markdown-emoji",target:"_blank",rel:"noopener noreferrer"},_={href:"https://github.com/mjbvz/vscode-markdown-emoji",target:"_blank",rel:"noopener noreferrer"},g=s("p",null,"你可能还想了解：",-1),f={href:"https://github.com/markdown-it/markdown-it/blob/master/docs/development.md",target:"_blank",rel:"noopener noreferrer"},y={href:"https://www.npmjs.com/browse/keyword/markdown-it-plugin",target:"_blank",rel:"noopener noreferrer"},x=t(`<h2 id="用脚本添加进阶功能" tabindex="-1"><a class="header-anchor" href="#用脚本添加进阶功能" aria-hidden="true">#</a> 用脚本添加进阶功能</h2><hr><p>对于进阶特性，在插件中配置可运行的脚本：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token property">&quot;contributes&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;markdown.previewScripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;./main.js&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置的脚本是异步加载的，每次内容变动还会重载。</p>`,5),j={href:"https://marketplace.visualstudio.com/items?itemName=bierner.markdown-mermaid",target:"_blank",rel:"noopener noreferrer"},q={href:"https://knsv.github.io/mermaid/index.html",target:"_blank",rel:"noopener noreferrer"},M={href:"https://github.com/mjbvz/vscode-markdown-mermaid",target:"_blank",rel:"noopener noreferrer"};function S(C,N){const a=i("ExternalLinkIcon");return r(),p("div",null,[d,s("p",null,[s("a",l,[n("Markdown Preview GitHub Styling"),e(a)]),n("是一个如何将Markdown预览变成像GitHub渲染风格的好例子，在GitHub上去查看"),s("a",u,[n("源码"),e(a)]),n("吧")]),k,m,s("p",null,[n("VS Code Markdown预览支持"),s("a",v,[n("CommonMark规格"),e(a)]),n("，插件可以通过一个"),s("a",h,[n("markdown-it插件"),e(a)]),n("添加新的Markdown语法。")]),w,s("p",null,[s("a",b,[n("markdown-emoji"),e(a)]),n("插件展示了如何使用markdown-it添加emoji支持，你可以在GitHub上查看Emoji插件的"),s("a",_,[n("源码"),e(a)]),n("。")]),g,s("ul",null,[s("li",null,[n("markdown-it插件开发者"),s("a",f,[n("指南"),e(a)])]),s("li",null,[s("a",y,[n("现成的markdown-it插件"),e(a)])])]),x,s("p",null,[s("a",j,[n("Markdown Preview Mermaid Support"),e(a)]),n("插件展示了如何使用脚本添加"),s("a",q,[n("鱼骨图"),e(a)]),n("和流程图预览。在"),s("a",M,[n("这里"),e(a)]),n("查看插件源码。")])])}const E=o(c,[["render",S],["__file","api-markdown.html.vue"]]);export{E as default};
